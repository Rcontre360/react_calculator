{"version":3,"sources":["components/styledComponents.js","calculator/calcButtons.js","calculator/functions.js","components/input.js","components/buttons.js","components/body.js","App.js","index.js"],"names":["colors","sizes","darkTheme","background","color","devise","tiny","small","medium","big","huge","query","size","styles","stylesFunction","props","css","GlobalStyle","createGlobalStyle","Result","styled","span","active","Input","input","BigInput","Button","button","Flex","div","direction","dir","flex","width","height","Grid","column","row","val","i","gap","Container","numbers","operators","functions","standar","str","id","map","btn","action","withoutRepeatedSymbols","symbols","not","res","count","add","found","find","op","except","length","parseCalculationString","pointComa","trailZero","substring","el","StandarInput","type","data-test","CalculatorInput","calculatorString","setCalculatorString","result","React","useState","resultGiven","setResultGiven","useEffect","setTimeout","as","onChange","e","target","value","CalculatorButton","StandarButton","children","onClick","className","ActionButton","btnfunction","CalculusButton","CalculatorBody","setUserAction","fieldButtons","buttons","Type","field","FieldWrapper","key","theme","App","state","prevResult","setResult","bind","setPrevResult","onKeyPress","document","onkeypress","this","setState","nodeName","string","resString","evaluate","err","evaluateString","String","end","console","log","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.58ef3372.chunk.js","sourcesContent":["import styled,{createGlobalStyle,css} from \"styled-components\";\r\n\r\nexport const colors = {\r\n\tbackground:\"#222858\",\r\n\tbackgroundClear:\"#838ABD\",\r\n\tbackgroundDark:\"#161616\",\r\n\tbutton1:\"#6E0101\",\r\n\tbutton2:\"#679292\",\r\n\ttextClear:\"#E0E0E0\",\r\n\ttextDark:\"#323338\",\r\n}\r\n\r\nexport const sizes = {\r\n\ttiny:\"300px\",\r\n\tsmall:\"450px\",\r\n\tmedium:\"700px\",\r\n\tbig:\"900px\",\r\n\thuge:\"1200px\"\r\n}\r\n\r\nexport const darkTheme = {\r\n\tbackground:colors[\"backgroundDark\"],\r\n\tcolor:colors[\"textClear\"]\r\n}\r\n\r\nexport const clearTheme = {\r\n\tbackground:colors[\"backgroundClear\"],\r\n\tcolor:colors[\"textDark\"]\r\n}\r\n\r\nexport const devise = {\r\n\ttiny:`(max-width: ${sizes[\"tiny\"]})`,\r\n\tsmall:`(max-width: ${sizes[\"small\"]})`,\r\n\tmedium:`(max-width: ${sizes[\"medium\"]})`,\r\n\tbig:`(max-width: ${sizes[\"big\"]})`,\r\n\thuge:`(max-width: ${sizes[\"huge\"]})`\r\n}\r\n\r\nexport const query = (size,styles)=>{\r\n\treturn `@media ${devise[size]}{\r\n\t\t${styles}\r\n\t}`\r\n}\r\n\r\nconst stylesFunction = props=>props.css;\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n\t*{\r\n\t\tmargin:0;\r\n\t\tpadding:0;\r\n\t\tbox-sizing:border-box;\r\n\t}\r\n\tbody{\r\n\t\tbackground:black;\r\n\t}\r\n`;\r\n\r\nexport const Result = styled.span`\r\n\tfont-size:200%;\r\n\tmargin:10%;\r\n\tcolor:grey;\r\n\ttransition:1s;\r\n\t${props=>props.active && css`\r\n\t\ttransform:scale(1.5);\r\n\t\tcolor:white;\r\n\t\ttransition:1s;\r\n\t`}\r\n\t${stylesFunction}\r\n`;\r\n\r\nexport const Input = styled.input`\r\n\toutline:none;\r\n\tbackground:${colors[\"backgroundDark\"]};\r\n\tcolor:${colors[\"textClear\"]};\r\n\tpadding:${\"1em\"};\r\n\tborder:${`solid ${colors[\"textClear\"]} 3px`};\r\n\tborder-radius:10px;\r\n\t${stylesFunction}\r\n`;\r\n\r\nexport const BigInput = styled(Input)`\r\n\twidth:\"100%\";\r\n\tfont-size:200%;\r\n\ttext-align:right;\r\n\theight:\"100%\";\r\n\t${query(\"small\",css`font-size:130%;`)}\r\n\t${stylesFunction}\r\n`;\r\n\r\nexport const Button = styled.button`\r\n\tpadding:\"1em\";\r\n\tbackground:${colors[\"backgroundClear\"]};\r\n\tcolor:${colors[\"textClear\"]};\r\n\tborder:solid ${colors[\"backgroundDark\"]} 3px;\r\n\tborder-radius:10px;\r\n\toutline:none;\r\n\t&:hover{\r\n\t\tbackground:#4E4A4A;\r\n\t}\r\n\t${stylesFunction}\r\n`;\r\n\r\nexport const Flex = styled.div`\r\n\tdisplay:flex;\r\n\tflex-direction:${props=>props.direction?props.direction:\"center\"};\r\n\t${props=>{\r\n\t\tconst dir = props.flex?props.flex:\"center\";\r\n\t\treturn`\r\n\t\t\talign-items:${dir};\r\n\t\t\tjustify-content:${dir};\r\n\t\t\talign-content:${dir};\r\n\t\t`\r\n\t}}\r\n\twidth:${props=>props.width?props.width:\"100%\"};\r\n\theight:${props=>props.height?props.height:\"100%\"};\r\n\t${stylesFunction}\r\n`;\r\n\r\nexport const Grid = styled.div`\r\n\t${stylesFunction}\r\n\tdisplay:grid;\r\n\t${props=>`\r\n\t\tgrid-template-columns:${props.column?props.column:\"1 1fr\"};\r\n\t\tgrid-template-rows:${props.row?props.row:\"1 1fr\"};\r\n\t`}\r\n\t${props=>{\r\n\t\tlet val = ``;\r\n\t\tfor (let i in props.gap)\r\n\t\t\tval = val+`grid-${i}-gap:${props.gap[i]};`;\r\n\t\treturn val;\r\n\t}}\r\n`;\r\n\r\nexport const Container = styled(Flex)`\r\n\tbackground:${colors[\"background\"]};\r\n\tcolor:${colors[\"textClear\"]};\r\n\t${stylesFunction};\r\n`;","import {css} from \"styled-components\";\r\nimport {colors} from \"../components/styledComponents\";\r\n\r\nconst styles = {\r\n\tnumbers:css`background:${colors[\"backgroundClear\"]};`,\r\n\toperators:css`background:black;`,\r\n\tfunctions:css`background:${colors[\"button1\"]};`,\r\n\tstandar:css`background:${colors[\"button2\"]};`\r\n}\r\n\r\nconst numbers = [\r\n\t{str:\"1\",id:\"one\"},\r\n\t{str:\"2\",id:\"two\"},\r\n\t{str:\"3\",id:\"three\"},\r\n\t{str:\"4\",id:\"four\"},\r\n\t{str:\"5\",id:\"five\"},\r\n\t{str:\"6\",id:\"six\"},\r\n\t{str:\"7\",id:\"seven\"},\r\n\t{str:\"8\",id:\"eight\"},\r\n\t{str:\"9\",id:\"nine\"},\r\n\t{str:\"0\",id:\"zero\"},\r\n\t{str:\".\",id:\"decimal\"},\r\n\t{str:\",\"},\r\n].map(btn=>{\r\n\tbtn.css = styles[\"numbers\"];\r\n\treturn btn;\r\n});\r\n\r\nconst operators = [\r\n\t{str:\"+\",id:\"add\"},\r\n\t{str:\"-\",id:\"subtract\"},\r\n\t{str:\"*\",id:\"multiply\"},\r\n\t{str:\"/\",id:\"divide\"},\r\n\t{str:\"^\"},\r\n\t{str:\"%\"},\r\n\t{str:\"(\"},\r\n\t{str:\")\"}\r\n].map(btn=>{\r\n\tbtn.css = styles[\"operators\"];\r\n\treturn btn;\r\n});\r\n\r\nconst functions = [\r\n\t{str:\"pow()\"},\r\n\t{str:\"sqrt()\"},\r\n\t{str:\"sin()\"},\r\n\t{str:\"cos()\"},\r\n\t{str:\"tan()\"},\r\n\t{str:\"cot()\"},\r\n\t{str:\"sec()\"},\r\n\t{str:\"csc()\"},\r\n].map(btn=>{\r\n\tbtn.css = styles[\"functions\"];\r\n\treturn btn;\r\n});\r\n\r\nconst standar = [\r\n\t{str:\"=\",id:\"equals\",action:\"SHOW_RESULT\"},\r\n\t{str:\"DEL\",action:\"DELETE_FORMULA\"},\r\n\t{str:\"Zero\",id:\"clear\",action:\"DELETE_ALL\"},\r\n\t{str:\"<-\",action:\"DELETE_ONE\"},\r\n\t{str:\"ANS\",action:\"PREV_RESULT\"}\r\n].map(btn=>{\r\n\tbtn.css = styles[\"standar\"];\r\n\treturn btn;\r\n});\r\n\r\nexport {\r\n\tnumbers,\r\n\toperators,\r\n\tfunctions,\r\n\tstandar\r\n}\r\n\r\n","import {evaluate} from \"mathjs\";\r\nimport {operators,numbers} from \"./calcButtons\";\r\n\r\nexport const withoutRepeatedSymbols = (symbols,str,not=[])=>{\r\n\tlet res=\"\",count=0;\r\n\r\n\tfor (let i=str.length-1;i>=0;i--){\r\n\t\tlet add = str[i];\r\n\r\n\t\tlet found = symbols.find(op=>op.str===add);\r\n\t\tlet except = not.find(op=>op.str===add);\r\n\r\n\t\tif (found){\r\n\t\t\tif (count>0)\r\n\t\t\t\tadd=\"\";\r\n\t\t\tif (!except)\r\n\t\t\t\tcount++;\r\n\t\t} else {\r\n\t\t\tcount=0;\r\n\t\t}\r\n\t\tres = add+res;\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nexport const parseCalculationString = (str)=>{\r\n\tlet res = \"\",pointComa = false, trailZero=true;\r\n\tif (!str)\r\n\t\treturn \"\";\r\n\r\n\tres = withoutRepeatedSymbols(operators,str,\r\n\t\t[{str:\"-\"},{str:\"(\"},{str:\")\"}]);\r\n\tres =  withoutRepeatedSymbols([{str:\".\"},{str:\",\"}],res);\r\n\r\n\tfor (let i in res){\r\n\t\tif (res[i]===\"0\" && trailZero && res.length>1)\r\n\t\t\tres = res.substring(1,res.length)\r\n\t\tif (res[i]!==\"0\")\r\n\t\t\ttrailZero = false;\r\n\t\tif (res[i]===\".\" || res[i]===\",\"){\r\n\t\t\tif (pointComa){\r\n\t\t\t\tres = res.substring(0,i)+res.substring(i+1, res.length);\r\n\t\t\t}\r\n\t\t\tpointComa = true;\r\n\t\t}\r\n\t\t\t\r\n\t\tif (operators.find(el=>el.str===res[i]) || res[i]===\" \"){\r\n\t\t\tpointComa = false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n\r\nexport const evaluateString = (str)=>{\r\n\tlet res;\r\n\ttry {\r\n\t\tres = evaluate(str);\r\n\t} catch(err){\r\n\t\tres = false;\r\n\t}\r\n\treturn res;\r\n}\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled,{css} from \"styled-components\";\r\n\r\nimport {Input,Flex,Container,BigInput,Result,query} from \"./styledComponents\";\r\nimport {parseCalculationString} from \"../calculator/functions\";\r\n\r\nconst StandarInput = (props)=>{\r\n\r\n\treturn(\r\n\t\t<Input \r\n\t\t\ttype=\"text\" \r\n\t\t\tdata-test=\"standar_input\" \r\n\t\t\t{...props}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nconst CalculatorInput = (props)=>{\r\n\tconst {\r\n\t\tcalculatorString,\r\n\t\tsetCalculatorString,\r\n\t\tresult\r\n\t} = props;\r\n\tconst [resultGiven,setResultGiven] = React.useState(true);\r\n\r\n\tReact.useEffect(()=>{\r\n\t\tsetResultGiven(true);\r\n\t\tsetTimeout(()=>setResultGiven(false),5000);\r\n\t},[result]);\r\n\r\n\tconst directChange = e=>{\r\n\t\tsetCalculatorString(parseCalculationString(e.target.value));\r\n\t}\r\n\r\n\treturn(\r\n\t<Container css={css`padding:1em;height:20vh;`} data-test=\"calculator_input\">\r\n\t\t<Container css={\r\n\t\t\tcss`border-radius:10px;background:black;\r\n\t\t\tjustify-content:flex-end;\r\n\t\t\talign-items = center;`\r\n\t\t}>\r\n\t\t\t<Result \r\n\t\t\t\t\r\n\t\t\t\tactive={resultGiven}\r\n\t\t\t\tdata-test={\"result_component\"}\r\n\t\t\t\tcss={\r\n\t\t\t\t\tquery(\"medium\",css`font-size:100%;`)\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{result}\r\n\t\t\t</Result>\r\n\t\t\t<BigInput as={StandarInput} \r\n\t\t\t\tid=\"display\" \r\n\t\t\t\tcss={css`width:80%;\r\n\t\t\t\tbackground:black;\r\n\t\t\t\tborder:none;\r\n\t\t\t\tmargin-right:1em;\r\n\t\t\t\tcolor:orange;\r\n\t\t\t\tpadding:0px;`} \r\n\t\t\t\tonChange={directChange} \r\n\t\t\t\tvalue={calculatorString}\r\n\t\t\t\tdata-test={\"calculator_input_component\"}\r\n\t\t\t/>\r\n\t\t</Container>\r\n\t</Container>\r\n\t);\r\n}\r\n\r\nCalculatorInput.propTypes = {\r\n\tcalculatorString:PropTypes.string.isRequired,\r\n\tsetCalculatorString:PropTypes.func.isRequired,\r\n\tresult:PropTypes.string.isRequired\r\n}\r\n\r\nexport {\r\n\tStandarInput,\r\n\tCalculatorInput,\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled,{css} from \"styled-components\";\r\n\r\nimport {Button} from \"./styledComponents\";\r\n\r\nconst CalculatorButton = styled(Button)`\r\n\tfont-size:120%;\r\n`;\r\n\r\nexport const StandarButton = (props)=>{\r\n\tconst {children,onClick,id} = props;\r\n\r\n\tif (!onClick) \r\n\t\tonClick = e=>e;\r\n\r\n\treturn(\r\n\t\t<CalculatorButton \r\n\t\t\tonClick={onClick} \r\n\t\t\tcss={props.css} \r\n\t\t\tclassName=\"btn\" \r\n\t\t\tdata-test=\"standar_btn\" \r\n\t\t\tid={id}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</CalculatorButton>\r\n\t);\r\n}\r\n\r\nStandarButton.propTypes = {\r\n\tonClick:PropTypes.func\r\n}\r\n\r\nexport const ActionButton = (props)=>{\r\n\tconst {str,btnfunction,action} = props;\r\n\r\n\treturn(\r\n\t\t<StandarButton \r\n\t\t\tdata-test=\"action_btn\"\r\n\t\t\tonClick={()=>btnfunction({action})} \r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t{str}\r\n\t\t</StandarButton>\r\n\t);\r\n}\r\n\r\nActionButton.propTypes = {\r\n\tstr:PropTypes.string.isRequired,\r\n\tbtnfunction:PropTypes.func.isRequired,\r\n\taction:PropTypes.string.isRequired\r\n}\r\n\r\nexport const CalculusButton = (props)=>{\r\n\tconst {str,btnfunction} = props;\r\n\r\n\treturn(\r\n\t\t<StandarButton \r\n\t\t\tdata-test=\"calculus_btn\"\r\n\t\t\tonClick={e=>btnfunction({action:\"APPEND\",str})} \r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t{str}\r\n\t\t</StandarButton>\r\n\t);\r\n}\r\n\r\nCalculusButton.propTypes = {\r\n\tstr:PropTypes.string.isRequired,\r\n\tbtnfunction:PropTypes.func.isRequired\r\n}\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled, {css} from \"styled-components\";\r\n\r\nimport {CalculusButton,ActionButton} from \"./buttons\";\r\nimport {numbers,operators,standar,functions} from \"../calculator/calcButtons\";\r\nimport CalculatorContext from \"../calculator/context\";\r\nimport {Container,Grid,colors,query} from \"./styledComponents\";\r\n\r\nexport const CalculatorBody = (props)=>{\r\n\tconst {setUserAction} = props;\r\n\r\n\tconst fieldButtons = [\r\n\t\t{buttons:numbers, Type:CalculusButton},\r\n\r\n\t\t{buttons:operators, Type:CalculusButton},\r\n\r\n\t\t{buttons:functions, Type:CalculusButton,\r\n\t\tcss:query(\"medium\",css`\r\n\t\t\tdisplay:none;\r\n\t\t\tbackground:green;\r\n\t\t`)},\r\n\r\n\t\t{buttons:standar, Type:ActionButton,\r\n\t\tcss:`\r\n\t\t\t${query(\"small\",css`grid-column:1/3;`)}\r\n\t\t\t${query(\"tiny\",css`grid-column:1/2;`)}\r\n\t\t`},\r\n\t]\r\n\r\n\treturn(\r\n\t<Grid \r\n\t\tcolumn={\"repeat(auto-fit,minmax(150px,1fr))\"} \r\n\t\trow={\"repeat(auto-fill,1fr)\"} \r\n\t\tdata-test=\"calculator_body\"\r\n\t\tcss={\r\n\t\t\tcss`\r\n\t\t\tbackground:${colors[\"backgroundDark\"]};\r\n\t\t\twidth:100vw;\r\n\t\t\theight:80vh;`\r\n\t\t}\r\n\t>\r\n\t{\r\n\t\tfieldButtons.length>0 \r\n\t\t&&\r\n\t\tfieldButtons.map((field,id)=>\r\n\t \t\t<FieldWrapper \r\n\t\t\t\tkey={id} \r\n\t\t\t\tsetUserAction={setUserAction} \r\n\t\t\t\t{...field}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\t</Grid>\r\n\t);\r\n}\r\n\r\nCalculatorBody.propTypes = {\r\n\tsetUserAction:PropTypes.func.isRequired\r\n}\r\n\r\nexport const FieldWrapper = (props)=>{\r\n\tconst {buttons,Type,setUserAction} = props;\r\n\r\n\treturn(\r\n\t\t<Grid \r\n\t\t\tcss={props.css}\r\n\t\t\tcolumn={\"repeat(3,1fr)\"} \r\n\t\t\trow={\"repeat(auto-fill,1fr)\"} \r\n\t\t\tdata-test=\"field_wrapper\" \r\n\t\t>\r\n\t\t{\r\n\t\t\t(buttons.length>0 && Type) \r\n\t\t\t&&\r\n\t\t\tbuttons.map((btn,i)=>\r\n\t\t\t\t<Type \r\n\t\t\t\t\tbtnfunction={setUserAction} \r\n\t\t\t\t\t{...btn} \r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t>\r\n\t\t\t\t\t{btn.str}\r\n\t\t\t\t</Type>\r\n\t\t\t)\r\n\t\t}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nFieldWrapper.propTypes = {\r\n\tbuttons:PropTypes.array.isRequired,\r\n\tType:PropTypes.any.isRequired,\r\n\tsetUserAction:PropTypes.func.isRequired\r\n}","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport styled,{ThemeProvider} from \"styled-components\";\r\n\r\nimport {GlobalStyle,darkTheme,Flex} from \"./components/styledComponents\";\r\nimport {CalculatorInput} from \"./components/input\";\r\nimport {CalculatorBody} from \"./components/body\";\r\nimport CalculatorContext from \"./calculator/context\";\r\nimport {parseCalculationString,evaluateString} from \"./calculator/functions\";\r\n\r\nconst Container = styled(Flex)`\r\n\tbackground:${props=>props.theme?props.theme.background:\"white\"};\r\n\tcolor:${props=>props.theme?props.theme.color:\"black\"};\r\n\tjustify-content:flex-start;\r\n\theight:100vh;\r\n`;\r\n\r\nclass App extends React.Component{\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tresult:\"0\",\r\n\t\t\tcalculatorString:\"\",\r\n\t\t\tprevResult:\"0\"\r\n\t\t}\r\n\t\tthis.setResult = this.setResult.bind(this);\r\n\t\tthis.setCalculatorString = this.setCalculatorString.bind(this);\r\n\t\tthis.setPrevResult = this.setPrevResult.bind(this);\r\n\t\tthis.setUserAction = this.setUserAction.bind(this);\r\n\t\tthis.onKeyPress = this.onKeyPress.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tdocument.onkeypress = this.onKeyPress;\r\n\t}\r\n\r\n\tsetResult(result){\r\n\t\tthis.setState({result});\r\n\t}\r\n\r\n\tsetCalculatorString(calculatorString){\r\n\t\tthis.setState({calculatorString});\r\n\t}\r\n\r\n\tsetPrevResult(prevResult){\r\n\t\tthis.setState({prevResult});\r\n\t}\r\n\r\n\tonKeyPress(e){\r\n\t\tlet action = \"\";\r\n\t\tif (e.key===\"Enter\" || e.key===\"=\"){\r\n\t\t\taction = \"SHOW_RESULT\";\r\n\t\t\tthis.setUserAction({action});\r\n\t\t} else if (e.target.nodeName!==\"INPUT\"){\r\n\t\t\taction = \"APPEND\";\r\n\t\t\tthis.setUserAction({action,str:e.key});\r\n\t\t} \r\n\t}\r\n\r\n\tsetUserAction(btn){\r\n\t\tconst {action} = btn;\r\n\t\tlet string = this.state.calculatorString;\r\n\t\tlet resString=false;\r\n\r\n\t\tswitch (action) {\r\n\t\t\tcase \"APPEND\":\r\n\t\t\t\tstring = string+btn.str;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"SHOW_RESULT\":\r\n\t\t\t\tresString = evaluateString(this.state.calculatorString);\r\n\t\t\t\tif (resString===false)\r\n\t\t\t\t\tresString = \"INVALID SYNTAX\";\r\n\t\t\t\telse{\r\n\t\t\t\t\tstring=String(resString);\r\n\t\t\t\t\tthis.setPrevResult(resString)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"PREV_RESULT\":\r\n\t\t\t\tstring = string+this.state.prevResult\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"DELETE_ALL\":\r\n\t\t\t\tresString = \"0\";\r\n\t\t\tcase \"DELETE_FORMULA\":\r\n\t\t\t\tstring = \"0\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"DELETE_ONE\":\r\n\t\t\t\tconst end = this.state.calculatorString.length-1;\r\n\t\t\t\tstring = this.state.calculatorString.substring(0,end);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"switch default. Check error\",btn);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tstring = parseCalculationString(string);\r\n\t\tthis.setCalculatorString(string);\r\n\t\tif (resString!==false)\r\n\t\t\tthis.setResult(String(resString))\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t<ThemeProvider theme={darkTheme}>\r\n\t\t\t<Container \r\n\t\t\t\tclassName=\"app\" \r\n\t\t\t\tflex=\"center\" \r\n\t\t\t\tdirection=\"column\"\r\n\t\t\t\tdata-test=\"app_container\"\r\n\t\t\t>\r\n\t\t\t\t<GlobalStyle/>\r\n\t\t\t\t<CalculatorInput \r\n\t\t\t\t\tsetCalculatorString={this.setCalculatorString}\r\n\t\t\t\t\t{...this.state}\r\n\t\t\t\t\tdata-test=\"calculator_input_component\"\r\n\t\t\t\t/>\r\n\t\t\t\t<CalculatorBody \r\n\t\t\t\t\tsetUserAction={this.setUserAction}\r\n\t\t\t\t\tdata-test=\"calculator_body_component\"\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App/>,document.getElementById(\"root\"));"],"sourceRoot":""}